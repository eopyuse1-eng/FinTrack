# FinTrack HRIS - Data Flow Diagrams (DFD)

## DFD Symbols & Legend

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DFD SHAPE LEGEND                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â­• (Circle)                                                    â”‚
â”‚  â””â”€ External Entity / Data Source                              â”‚
â”‚     Examples: Google OAuth, Employee, HR Head, System User     â”‚
â”‚                                                                 â”‚
â”‚  â–¡ (Rectangle/Square)                                          â”‚
â”‚  â””â”€ Process / Function / Operation                             â”‚
â”‚     Examples: Login, Compute Payroll, Validate Password        â”‚
â”‚                                                                 â”‚
â”‚  â–­ (Open Rectangle / Parallel Lines)                           â”‚
â”‚  â””â”€ Data Store / Database / File                               â”‚
â”‚     Examples: MongoDB Collections, User DB, Audit Logs         â”‚
â”‚                                                                 â”‚
â”‚  â†’ (Arrow)                                                     â”‚
â”‚  â””â”€ Data Flow / Information Flow                               â”‚
â”‚     Examples: User credentials flowing to Login process        â”‚
â”‚                                                                 â”‚
â”‚  âŸ³ (Curved Arrow)                                              â”‚
â”‚  â””â”€ Feedback / Return Data                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Level 0 DFD - System Context

### Overview
Shows the complete FinTrack HRIS system as a single process interacting with external entities and data stores.

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Google OAuth 2.0   â”‚
                    â”‚   (Gmail Verify)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ OAuth Token
                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Employee    â”‚â”€â”€â–¶â”‚                    â”‚â—€â”€â”€â”‚  HR Head     â”‚
        â”‚              â”‚   â”‚                    â”‚   â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  FINTRACK HRIS     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚    SYSTEM          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ HR Staff     â”‚â—€â”€â”€â”‚                    â”‚â”€â”€â”€â–¶â”‚  Payroll     â”‚
        â”‚              â”‚   â”‚                    â”‚   â”‚  Database    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              â”‚              â”‚
                    â–¼              â–¼              â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  MongoDB    â”‚ â”‚ Audit Logs  â”‚ â”‚  Gmail      â”‚
            â”‚   (User,    â”‚ â”‚  (Immutable)â”‚ â”‚ (Email      â”‚
            â”‚  Payroll)   â”‚ â”‚             â”‚ â”‚  Verified)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**External Entities (â­•)**:
- Google OAuth 2.0 - Email verification provider
- Employees - System users logging in
- HR Head - Administrative users
- HR Staff - HR Operations users
- Payroll Database - Stores payroll records

**System Function (â–¡)**:
- FinTrack HRIS System - Main application processing

**Data Stores (â–­)**:
- MongoDB User Collection
- Audit Logs Collection
- Gmail/OAuth Storage

**Data Flows (â†’)**:
- Login credentials â†’ System
- Payroll data â† System
- OAuth tokens â† Google
- Audit entries â†’ Logs

---

## Level 1 DFD - Main System Processes

### Overview
Decomposes the Level 0 system into major functional processes.

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Google OAuth   â”‚
                    â”‚   (Gmail)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          EXTERNAL ENTITIES                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                               â”‚
    â”‚  â­• Employee         â­• HR Head    â­• Gmail   â”‚
    â”‚  â­• HR Staff         â­• Supervisor           â”‚
    â”‚                                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚
         â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚   1.0         â”‚   â”‚   â”‚    4.0          â”‚
    â”‚ AUTHENTICATIONâ”‚â”€â”€â”€â”¼â”€â–¶â”‚ EMAIL VERIFY    â”‚
    â”‚   (Login)     â”‚   â”‚   â”‚ (OAuth 2FA)     â”‚
    â”‚               â”‚   â”‚   â”‚                 â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚           â”‚
         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”‚
         â”‚   â”‚      2.0       â”‚    â”‚
         â”‚   â”‚  USER CREATION â”‚    â”‚
         â”‚   â”‚  & HIERARCHY   â”‚    â”‚
         â”‚   â”‚                â”‚    â”‚
         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
         â”‚            â”‚            â”‚
         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”‚
         â”‚   â”‚      3.0      â”‚     â”‚
         â””â”€â”€â–¶â”‚   PAYROLL     â”‚     â”‚
             â”‚ MANAGEMENT    â”‚     â”‚
             â”‚ (Compute,     â”‚     â”‚
             â”‚  Approve)     â”‚     â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚
                      â”‚            â”‚
                      â–¼            â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        DATA STORES (â–­)              â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                                     â”‚
         â”‚ â–­ Users DB      â–­ Audit Logs       â”‚
         â”‚ â–­ Payroll DB    â–­ Attendance DB    â”‚
         â”‚ â–­ Leave DB      â–­ Payslips         â”‚
         â”‚                                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Level 1 Processes (â–¡)**:

1. **1.0 Authentication (Login)**
   - Local login with email/password
   - OAuth 2.0 Gmail verification
   - JWT token generation
   - Account status validation

2. **2.0 User Creation & Hierarchy**
   - Create users (Seeder, Supervisor, HR Head, Staff, Employees)
   - Enforce role-based creation rules
   - Password validation
   - Auto-disable Seeder Admin on init

3. **3.0 Payroll Management**
   - Initialize payroll periods
   - Compute payroll records
   - Approve/reject records
   - Generate payslips
   - View payslip history

4. **4.0 Email Verification (OAuth 2FA)**
   - Google OAuth callback
   - Email verification
   - Account linking
   - isEmailVerified flag setting

**Data Flows**:
- â­• Employee â†’ 1.0: Login credentials
- 1.0 â†’ â–­ Users DB: Verify credentials
- 1.0 â†’ â–­ Audit Logs: Log login events
- 1.0 âŸ³ â­• Employee: JWT token / Dashboard
- â­• HR Head â†’ 2.0: Create user request
- 2.0 â†’ â–­ Users DB: Store new user
- â­• Employee â†’ 3.0: Payroll view request
- 3.0 â†’ â–­ Payroll DB: Retrieve payroll
- â­• Gmail â†’ 4.0: OAuth verification
- 4.0 â†’ â–­ Users DB: Update isEmailVerified

---

## Level 2 DFD - Detailed Subprocesses

### Authentication Process (1.0) - Detailed

```
        â­• Employee/User
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   1.1 Receive Login      â”‚
    â”‚   Credentials            â”‚
    â”‚   (email, password)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1.2 Query User in DB     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Users DB â”‚
         â—€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1.3 Validate Account        â”‚
    â”‚ Status                      â”‚
    â”‚ â”œâ”€ Check isDisabled         â”‚
    â”‚ â”œâ”€ Check isEmailVerified    â”‚
    â”‚ â””â”€ Check isActive           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚
      VALID       INVALID
         â”‚            â”‚
         â–¼            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1.4 Verify â”‚ â”‚ 1.5 Log  â”‚
    â”‚ Password   â”‚ â”‚ Failed   â”‚
    â”‚ (bcrypt)   â”‚ â”‚ Login    â”‚
    â”‚            â”‚ â”‚          â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚
    MATCH â”‚          FAILED
         â”‚              â”‚
         â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1.6 Log Successful Login   â”‚
    â”‚ Create Audit Log Entry     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Audit    â”‚
     Logs â—€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1.7 Generate JWT Token   â”‚
    â”‚ â”œâ”€ ID                    â”‚
    â”‚ â”œâ”€ Email                 â”‚
    â”‚ â”œâ”€ Role                  â”‚
    â”‚ â”œâ”€ Department            â”‚
    â”‚ â””â”€ 24h Expiry            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
         â­• Return to User
          (Dashboard/Error)
```

### Email Verification Process (4.0) - Gmail OAuth 2FA - Detailed

```
    â­• Employee/Supervisor (unverified)
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.1 Click "Sign in with    â”‚
    â”‚ Google" Button             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.2 Redirect to Google     â”‚
    â”‚ OAuth Endpoint             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â­• Gmail/Google
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.3 User Enters Gmail      â”‚
    â”‚ Credentials                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
              â­• Google Authenticates
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.4 OAuth Callback to      â”‚
    â”‚ Backend                    â”‚
    â”‚ â”œâ”€ Auth Code              â”‚
    â”‚ â”œâ”€ Email                  â”‚
    â”‚ â””â”€ Google Profile ID      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.5 Verify OAuth Token     â”‚
    â”‚ (Passport Google Strategy) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.6 Search User by Email   â”‚
    â”‚ in Database                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Users DB â”‚
         â—€â”€â”€â”€â”€â”€â”˜
               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                 â”‚
    FOUND          NOT FOUND
      â”‚                 â”‚
      â–¼                 â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ 4.7a       â”‚  â”‚ 4.7b Create New    â”‚
 â”‚ Update     â”‚  â”‚ User               â”‚
 â”‚ Existing   â”‚  â”‚ â”œâ”€ Auto-assign     â”‚
 â”‚ User:      â”‚  â”‚ â”‚  role: employee  â”‚
 â”‚ â”œâ”€ Set     â”‚  â”‚ â”œâ”€ Set verified    â”‚
 â”‚ â”‚ google   â”‚  â”‚ â”‚  = true          â”‚
 â”‚ â”‚ Id       â”‚  â”‚ â””â”€ Set googleId    â”‚
 â”‚ â””â”€ Set     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”‚    isEmail â”‚           â”‚
 â”‚    Verifiedâ”‚           â”‚
 â”‚    = true  â”‚           â”‚
 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
      â”‚                   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.8 Save User to Database  â”‚
    â”‚ (isEmailVerified: true)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Users DB â”‚
         â—€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.9 Generate JWT Token     â”‚
    â”‚ â”œâ”€ ID                      â”‚
    â”‚ â”œâ”€ Email                   â”‚
    â”‚ â”œâ”€ Role                    â”‚
    â”‚ â””â”€ 24h Expiry              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.10 Create Audit Log      â”‚
    â”‚ LOGIN_GOOGLE_SUCCESS       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Audit    â”‚
     Logs â—€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4.11 Redirect to Dashboard â”‚
    â”‚ with JWT Token             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
         â­• Employee/Supervisor
          (Now Verified! âœ…)
     Can now use local
     email/password login
```

### User Creation & Hierarchy Process (2.0) - Detailed

```
        â­• HR Head / Supervisor
          (Creator)
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.1 Submit User Creation â”‚
    â”‚ Form                     â”‚
    â”‚ â”œâ”€ First Name            â”‚
    â”‚ â”œâ”€ Last Name             â”‚
    â”‚ â”œâ”€ Email                 â”‚
    â”‚ â”œâ”€ Password              â”‚
    â”‚ â”œâ”€ Role                  â”‚
    â”‚ â””â”€ Department            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.2 Verify Creator's     â”‚
    â”‚ Permissions              â”‚
    â”‚ (Check Role Hierarchy)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚
      ALLOWED          DENIED
         â”‚                â”‚
         â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Continue â”‚      â”‚ 2.3 Log  â”‚
    â”‚ to 2.4   â”‚      â”‚ Denied   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚ & Return â”‚
         â”‚            â”‚ Error    â”‚
         â”‚            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚
         â”‚            â–­ Audit
         â”‚             Logs â—€
         â”‚                 â”‚
         â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.4 Validate Password    â”‚
    â”‚ Based on Role            â”‚
    â”‚ â”œâ”€ Standard: 8+ chars    â”‚
    â”‚ â”œâ”€ Seeder: 12+ chars     â”‚
    â”‚ â”‚  no patterns            â”‚
    â”‚ â””â”€ Check strength score  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚
      VALID           INVALID
         â”‚                â”‚
         â–¼                â–¼
    Continue         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ 2.5 Log  â”‚
                     â”‚ Weak Pwd â”‚
                     â”‚ Error    â”‚
                     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                          â”‚
                    â–­ Audit Logs â—€
                          â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.6 Check Email Exists   â”‚
    â”‚ in Database              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Users DB â”‚
         â—€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚
      NEW            EXISTS
         â”‚                â”‚
         â–¼                â–¼
    Continue         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ 2.7 Log  â”‚
                     â”‚ Email    â”‚
                     â”‚ Exists   â”‚
                     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                          â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.8 Hash Password        â”‚
    â”‚ (bcryptjs, salt: 8)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.9 Create User Document â”‚
    â”‚ â”œâ”€ firstName             â”‚
    â”‚ â”œâ”€ lastName              â”‚
    â”‚ â”œâ”€ email                 â”‚
    â”‚ â”œâ”€ password (hashed)     â”‚
    â”‚ â”œâ”€ role                  â”‚
    â”‚ â”œâ”€ department            â”‚
    â”‚ â”œâ”€ isEmailVerified       â”‚
    â”‚ â”‚  (depends on role)     â”‚
    â”‚ â”œâ”€ isDisabled: false     â”‚
    â”‚ â”œâ”€ createdBy: creator_idâ”‚
    â”‚ â””â”€ timestamps            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Users DB â”‚
         â—€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.10 Create Audit Log    â”‚
    â”‚ USER_CREATED             â”‚
    â”‚ â”œâ”€ Creator info          â”‚
    â”‚ â”œâ”€ New user info         â”‚
    â”‚ â”œâ”€ Timestamp             â”‚
    â”‚ â””â”€ IP Address            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Audit    â”‚
     Logs â—€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.11 Check for Auto-Disable  â”‚
    â”‚ â”œâ”€ Is this first Supervisor? â”‚
    â”‚ â”œâ”€ Was Seeder Admin created? â”‚
    â”‚ â””â”€ If YES to both:           â”‚
    â”‚    Disable Seeder Admin â–¼    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.12 Disable Seeder      â”‚
    â”‚ Admin (if applicable)    â”‚
    â”‚ â”œâ”€ Set isDisabled: true  â”‚
    â”‚ â”œâ”€ Set disabledAt        â”‚
    â”‚ â”œâ”€ Set disabledReason    â”‚
    â”‚ â””â”€ Save to DB            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Users DB â”‚
         â—€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.13 Log Auto-Disable    â”‚
    â”‚ SEEDER_ADMIN_DISABLED    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â–­ Audit    â”‚
     Logs â—€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2.14 Return Success      â”‚
    â”‚ Response                 â”‚
    â”‚ â”œâ”€ New user info         â”‚
    â”‚ â”œâ”€ Role hierarchy        â”‚
    â”‚ â””â”€ Next steps            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
         â­• HR Head/Supervisor
         (User Created Successfully)
```

### Payroll Management Process (3.0) - Detailed

```
         â­• HR Head/HR Staff
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3.1 Request Payroll      â”‚
    â”‚ Initialize / View        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚
      INIT               VIEW
         â”‚                   â”‚
         â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3.2a Create  â”‚    â”‚ 3.3a Get All â”‚
    â”‚ Payroll      â”‚    â”‚ Payslips     â”‚
    â”‚ Period       â”‚    â”‚ for User     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚
           â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3.2b Validate    â”‚  â”‚ 3.3b Query   â”‚
    â”‚ Period Dates     â”‚  â”‚ by Employee  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ ID & Sort    â”‚
           â”‚              â”‚ by Date Desc â”‚
           â–¼              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚ 3.2c Get All       â”‚       â”‚
    â”‚ Employees          â”‚       â–¼
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚              â”‚ 3.3c Build   â”‚
    â–­ Users  â”‚              â”‚ Response &   â”‚
     DB â—€â”€â”€â”€â”€â”˜              â”‚ Return       â”‚
             â”‚              â”‚ Payslips     â”‚
             â–¼              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚ 3.2d Get Attendance  â”‚       â”‚
    â”‚ Data for Period      â”‚       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
             â”‚                     â”‚
    â–­ Attendance DB â—€â”€â”€â”           â”‚
             â”‚         â”‚           â”‚
             â–¼         â”‚           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
    â”‚ 3.2e Compute     â”‚           â”‚
    â”‚ Payroll Records: â”‚           â”‚
    â”‚ â”œâ”€ Gross Pay     â”‚           â”‚
    â”‚ â”œâ”€ Deductions    â”‚           â”‚
    â”‚ â”œâ”€ Net Pay       â”‚           â”‚
    â”‚ â”œâ”€ Taxes (BIR)   â”‚           â”‚
    â”‚ â””â”€ Contributions â”‚           â”‚
    â”‚    (SSS, PH, PI) â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
             â”‚                     â”‚
    â–­ Government Tax Tables        â”‚
     (lookup contribution rates)   â”‚
             â”‚                     â”‚
             â–¼                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
    â”‚ 3.2f Create      â”‚           â”‚
    â”‚ PayrollRecords   â”‚           â”‚
    â”‚ â”œâ”€ Status: draft â”‚           â”‚
    â”‚ â”œâ”€ computed_by   â”‚           â”‚
    â”‚ â”œâ”€ computedAt    â”‚           â”‚
    â”‚ â””â”€ all calcs     â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
             â”‚                     â”‚
    â–­ Payroll DB â—€â”€â”€â”€â”€â”            â”‚
             â”‚        â”‚            â”‚
             â–¼        â”‚            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
    â”‚ 3.2g Create      â”‚            â”‚
    â”‚ Audit Log Entry  â”‚            â”‚
    â”‚ PAYROLL_COMPUTED â”‚            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
             â”‚                      â”‚
    â–­ Audit Logs â—€â”€â”€â”€â”€â”             â”‚
             â”‚        â”‚             â”‚
             â–¼        â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚ 3.2h Send Response:      â”‚    â”‚
    â”‚ "Payroll Computed"       â”‚    â”‚
    â”‚ Period ready for Approvalâ”‚    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
             â”‚                      â”‚
             â–¼                      â”‚
         â­• HR Head                â”‚
      (Approves Records)          â”‚
                                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3.4a Get Payroll     â”‚
    â”‚ Records for Period   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â–­ Payroll DB â—€â”€â”€â”€â”
             â”‚       â”‚
             â–¼       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 3.4b Check for   â”‚
    â”‚ HR Head Approval â”‚
    â”‚ Permission       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
         â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             â”‚
      ALLOWED      DENIED
         â”‚             â”‚
         â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Approve â”‚      â”‚ Return  â”‚
    â”‚Records â”‚      â”‚ Error   â”‚
    â”‚ 3.4c   â”‚      â”‚         â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                â”‚
        â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3.4d Update Records:     â”‚
    â”‚ â”œâ”€ Status: approved      â”‚
    â”‚ â”œâ”€ approvedBy            â”‚
    â”‚ â”œâ”€ approvedAt            â”‚
    â”‚ â””â”€ Lock records          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â–­ Payroll DB â—€â”€â”€â”€â”
             â”‚       â”‚
             â–¼       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 3.4e Generate    â”‚
    â”‚ Payslips from    â”‚
    â”‚ Records          â”‚
    â”‚ (1:1 mapping)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â–­ Payslips DB â—€â”€â”€â”
             â”‚       â”‚
             â–¼       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ 3.4f Create      â”‚
    â”‚ Audit Log        â”‚
    â”‚ PAYROLL_APPROVED â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â–­ Audit Logs â—€â”€â”€â”
             â”‚      â”‚
             â–¼      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3.4g Return:     â”‚
    â”‚ "Payroll        â”‚
    â”‚  Approved &      â”‚
    â”‚  Payslips Ready" â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
         â­• Employees
      (Can view payslips
       in their history)
```

---

## Data Flow Summary Table

| From Entity | To Process | Data | Description |
|------------|-----------|------|-------------|
| Employee | 1.0 Auth | Email, Password | Login attempt |
| 1.0 Auth | Users DB | Query | Look up user |
| Users DB | 1.0 Auth | User record | Return user data |
| 1.0 Auth | Audit Logs | LOGIN_SUCCESS | Log successful login |
| 1.0 Auth | Employee | JWT Token | Return auth token |
| Gmail | 4.0 Verify | OAuth Token | OAuth verification |
| 4.0 Verify | Users DB | isEmailVerified=true | Mark as verified |
| HR Head | 2.0 Create | User form data | Create user request |
| 2.0 Create | Users DB | New user record | Store user |
| 2.0 Create | Audit Logs | USER_CREATED | Log creation |
| 2.0 Create | Users DB | isDisabled=true | Auto-disable Seeder |
| HR Head | 3.0 Payroll | Period dates | Initialize payroll |
| 3.0 Payroll | Attendance DB | Query | Get attendance |
| 3.0 Payroll | Payroll DB | Records (draft) | Store computed data |
| HR Head | 3.0 Payroll | Approve | Approve records |
| 3.0 Payroll | Payroll DB | Status: approved | Update status |
| 3.0 Payroll | Payslips DB | Payslip records | Generate payslips |
| Employee | 3.0 Payroll | View request | Request payslip history |
| 3.0 Payroll | Payslips DB | Query | Fetch payslips |
| Payslips DB | Employee | Payslip list | Return history |

---

## Process Notation Key

**Process Numbering Convention**:
- **Level 1**: `X.0` (e.g., 1.0, 2.0, 3.0, 4.0)
- **Level 2**: `X.Y` (e.g., 1.1, 1.2, 1.3... 2.1, 2.2...)
- **Level 3**: `X.Y.Z` (if needed for more detail)

**Process Status Indicators**:
- âœ… COMPLETED - Process fully implemented
- ğŸ”„ IN PROGRESS - Currently being worked on
- â³ PLANNED - Future enhancement

**Current Implementation Status**:
- âœ… 1.0 Authentication (Login) - COMPLETED
- âœ… 2.0 User Creation & Hierarchy - COMPLETED
- âœ… 3.0 Payroll Management - COMPLETED
- âœ… 4.0 Email Verification (OAuth 2FA) - COMPLETED
- âœ… All Level 2 Subprocesses - COMPLETED

---

**Document Version**: 1.0  
**Date**: November 22, 2025  
**Created for**: FinTrack HRIS Final Defense  
**Status**: Production Ready âœ…
